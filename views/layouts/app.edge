<!DOCTYPE html>
<html lang="en" class="theme-dark">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<title>Blog Prototype</title>
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		
		@if(production)
			<link href="/styles/themes.min.css" rel="stylesheet">
			<link href="/styles/app.min.css" rel="stylesheet">
		@else
			<link href="/styles/themes.css" rel="stylesheet">
			<link href="/styles/app.css" rel="stylesheet">
		@endif

		<!-- Font Awesome - Preload to load asynchronously -->
		<link
			rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

		@!section('styles')
	</head>
	<body class="preload" onload="document.body.classList.remove('preload')">
		<!-- Navigation -->
		<nav>
			<a href="/">Home</a>
			<a href="/posts">Posts</a>

			@if(auth)
			<a href="/drafts">Drafts</a>
			@endif

			<span id="rightHand">
				<div id="search">
					<input value="{{ searchQuery ?? '' }}" placeholder="Search..." >
					<button aria-label="Search Function">
						<i class="fa-solid fa-magnifying-glass"></i>
					</button>
				</div>

				@if(auth)
				<button onClick="location.href='/logout'" id="logout">
					<i class="fa-solid fa-arrow-right-from-bracket"></i>
				</button>
				@endif
				
				<button id="settings" onClick="location.href = '/settings'" aria-label="Settings">
					<i class="fa-solid fa-gear"></i>
				</button>
			</span>
		</nav>

		<!-- Content -->
		<section id="content">
			@!section('content')
		</section>

		<!-- Footer -->
		<footer>
			<div class="background"></div>

			@if(auth)
			<a href="/post/new">New post</a>
			<a href="/profile">Profile</a>
			@else
			<a href="/login">Login</a>
			@endif

			<hr>

			<p>Â© Lewis Comstive 2023</p>
		</footer>

		<script src="/js/app.js"></script>
		<script src="/js/search.js"></script>
	</body>
</html>
